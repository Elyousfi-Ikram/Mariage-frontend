<div class="home-container">
  <div class="auth-tabs">
    <div class="menu-wrap">
      <button class="tab menu-trigger" [attr.aria-expanded]="dropdownOpen" aria-haspopup="true" aria-controls="authMenu" aria-label="Menu d’authentification" (click)="openMenu($event)" (keydown)="onTriggerKeydown($event)">
        <i class="bi bi-person"></i>
        <i class="bi bi-chevron-down chevron"></i>
      </button>
      <div #menuRef class="dropdown-menu" [class.open]="dropdownOpen" id="authMenu" role="menu" (click)="$event.stopPropagation()" (keydown)="onMenuKeydown($event)" tabindex="-1">
        <button class="menu-item" role="menuitem" (click)="switchMode('login'); closeMenu()">
          <i class="bi bi-person"></i><span>Connexion</span>
        </button>
        <button class="menu-item" role="menuitem" (click)="switchMode('register'); closeMenu()">
          <i class="bi bi-person-plus"></i><span>Créer un compte</span>
        </button>
        <button class="menu-item" role="menuitem" (click)="switchMode('reset'); closeMenu()">
          <i class="bi bi-key"></i><span>Mot de passe oublié</span>
        </button>
      </div>
    </div>
  </div>

  <!-- <h1>Bienvenue à toutes et à tous</h1> -->
  <h2>Célébrez, créez et partagez vos souvenirs</h2>
  <p class="date">Une expérience pensée pour chacun</p>
  <p class="welcome-message">Créez votre album personnel et partagez vos moments avec celles et ceux qui comptent.</p>



  <form (ngSubmit)="submit()" class="auth-form" aria-live="polite">
    <div class="form-group">
      <label>Email</label>
      <input type="email" [(ngModel)]="email" name="email" required placeholder="email@exemple.com">
    </div>
    <div *ngIf="mode !== 'reset'" class="form-group">
      <label>Mot de passe</label>
      <input type="password" [(ngModel)]="password" name="password" required minlength="6"
        placeholder="Votre mot de passe">
    </div>
    <div *ngIf="mode === 'register'" class="form-group">
      <label>Nom</label>
      <input type="text" [(ngModel)]="name" name="name" placeholder="Votre nom">
    </div>
    <button type="submit" class="primary-btn" [disabled]="loading">
      {{ mode === 'login' ? 'Se connecter' : mode === 'register' ? 'Créer mon compte' : 'Réinitialiser' }}
    </button>
    <div *ngIf="loading" class="spinner" aria-label="Chargement"></div>
    <p *ngIf="error" class="error">{{ error }}</p>
  </form>
</div>
